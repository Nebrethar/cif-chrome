<!doctype html>
<html>
  <head>
    <title>DEFLATE</title>

    <!-- JavaScript and HTML must be in separate files for security. -->
	<script src="jquery-1.7.2.min.js"></script>
<script src="rawinflate.js"></script>
<script src="rawdeflate.js"></script>
	

  </head>
  <body>
  
  <textarea id="input" cols="60" rows="30">eJxLTEpOSU1Lz8jMys7JzcsvSBxifAB9s05h</textarea>
  <button id="inflate">Inflate</button><button id="deflate">Deflate</button>
  <div id="results"></div>
  </body>
  <script>
  $("#inflate").click(function(){
	$("#results").html(poorinflate((window.atob($("#input").val()))));
  });
  $("#deflate").click(function(){
	$("#results").html(window.btoa(RawDeflate.deflate($("#input").val())));
  });
  function poorinflate(data){
	var res=RawDeflate.inflate(data);
	if (res==""){
		data=data.substring(2,data.length);
	}
	res=RawDeflate.inflate(data);
	while (res==""){
		data=data.substring(0,data.length-2);
		res=RawDeflate.inflate(data);
	}
	return res;
  }
  
  </script>
</html>